!function(e){var t={};function n(o){if(t[o])return t[o].exports;var l=t[o]={i:o,l:!1,exports:{}};return e[o].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)n.d(o,l,function(t){return e[t]}.bind(null,l));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);const o=async e=>{console.log(e);let t={},n="http://www.omdbapi.com/?t="+e+"&apikey=d5677312";try{let e=await fetch(n);t=await e.json()}catch(e){console.log("ERROR =",e)}document.querySelector("#main").style.opacity=.2,document.querySelector("#main").style.pointerEvents="none",document.getElementById("filmPage").classList.add("filmPage"),document.getElementById("filmPage").style.display="block",document.getElementById("filmPage").innerHTML="";let o=document.createElement("img");console.log(t),o.src=t.Poster,o.style.width="400px",document.getElementById("filmPage").appendChild(o),document.getElementById("filmPage").innerHTML+="<div style='display:inline-block;vertical-align:top;width: 50%;text-align: center; margin-top:50px;'><h1 style=''>"+t.Title+"</h1><h3>"+t.Released+"</h3>"+t.Plot+"</h3><h1 class='buttonClose'>x</h1><h3 style='margin-top:50px;'>Actors:<br>"+t.Actors+"</h3><h3 style='margin-top:50px;'>Imdb rating:<br>"+t.imdbRating+"</h3><a href ='https://www.imdb.com/title/"+t.imdbID+"'><img style='width:150px; height:40px;' src='img/IMDB_Logo_2016.png'></a></div>",document.querySelector(".buttonClose").addEventListener("click",function(){document.getElementById("filmPage").style.display="none",document.querySelector("#main").style.opacity=1,document.querySelector("#main").style.pointerEvents=""})};document.body.addEventListener("click",e=>{let t=e.target;if("borderBox"==t.className){if("fa fa-star icon"!=t.className||"fa fa-star-o icon"!=t.className){let e=t.querySelector(".borderBox h2").innerHTML;o(e)}}else if("image"==t.id||"name"==t.id||"released"==t.id){let e=t.parentNode.querySelector(".borderBox h2").innerHTML;o(e)}}),document.getElementById("resultButton").addEventListener("click",function(){!async function(){let e="http://www.omdbapi.com/?s="+document.getElementById("movie").value+"&apikey=d5677312";try{let t=await fetch(e),n=await t.json();if(console.log(n),"Movie not found!"==n.Error||"Something went wrong."==n.Error){document.getElementById("main").innerHTML=" ";let e=document.createElement("div");e.classList.add("borderBox");let t=document.createElement("img");t.setAttribute("id","image"),t.src="img/images.png";let n=document.createElement("span");n.setAttribute("class","fa fa-star star");let o=document.createElement("h2");o.setAttribute("id","name"),o.innerHTML="Фильм не найден",e.appendChild(t),e.appendChild(n),e.appendChild(o),document.getElementById("main").appendChild(e)}else{document.getElementById("main").innerHTML="";let e=n.Search;console.log("searchRes",e);for(let t=0;t<e.length;t++){let n=document.createElement("div");n.classList.add("borderBox");let o=document.createElement("img");o.setAttribute("id","image"),o.src=e[t].Poster;let l=document.createElement("h2");l.setAttribute("id","name"),l.innerHTML=e[t].Title;let r=document.createElement("span");localStorage.getItem(e[t].imdbID)?r.setAttribute("class","fa fa-star icon"):r.setAttribute("class","fa fa-star-o icon");let i=document.createElement("h3");i.setAttribute("id","released"),i.innerHTML=e[t].Year,n.appendChild(o),n.appendChild(r),n.appendChild(l),n.appendChild(i),document.getElementById("main").appendChild(n),r.addEventListener("click",()=>{localStorage.getItem(e[t].imdbID)?(localStorage.removeItem(e[t].imdbID),r.setAttribute("class","fa fa-star-o icon")):(localStorage.setItem(e[t].imdbID,"true"),r.setAttribute("class","fa fa-star icon"))})}}}catch(e){console.log("ERROR =",e)}}()})}]);